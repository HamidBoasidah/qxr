# ุชูุซูู ูุงุฌูุฉ ุงูุนุฑูุถ (Frontend)

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู CRUD ูุงูู ูุฅุฏุงุฑุฉ ุงูุนุฑูุถ ูู ููุญุฉ ุชุญูู ุงูุดุฑูุฉุ ุญูุซ ูุชู ุฅุฏุงุฑุฉ:
1. **ุงูุนุฑุถ ุงูุฃุณุงุณู** (Offer)
2. **ุนูุงุตุฑ ุงูุนุฑุถ** (Offer Items)
3. **ุงููุณุชูุฏููู** (Offer Targets)

ูู ุฐูู ูู **ุตูุญุฉ ูุงุญุฏุฉ** ูุชูุงููุฉ!

---

## ๐ ูููู ุงููููุงุช

```
resources/js/
โโโ Pages/Company/Offer/
โ   โโโ Index.vue          # ูุงุฆูุฉ ุงูุนุฑูุถ
โ   โโโ Create.vue         # ุฅูุดุงุก ุนุฑุถ ุฌุฏูุฏ
โ   โโโ Edit.vue           # ุชุนุฏูู ุนุฑุถ
โ   โโโ Show.vue           # ุนุฑุถ ุชูุงุตูู ุงูุนุฑุถ
โ
โโโ components/company/offer/
    โโโ OfferForm.vue              # ุงููููุฐุฌ ุงูุฑุฆูุณู
    โโโ OfferItemsSection.vue      # ูุณู ุนูุงุตุฑ ุงูุนุฑุถ
    โโโ OfferTargetsSection.vue    # ูุณู ุงููุณุชูุฏููู
    โโโ OfferSummary.vue           # ูุณู ุงูููุฎุต ูุงูุฃุฒุฑุงุฑ
```

---

## ๐จ ุงูููููุงุช (Components)

### 1. OfferForm.vue (ุงููููู ุงูุฑุฆูุณู)

**ุงููุธููุฉ**: ูุฏูุฑ ุงููููุฐุฌ ุงููุงูู ููุนุฑุถ

**Props**:
```javascript
{
  offer: Object,              // ุงูุนุฑุถ (ููุชุนุฏูู ููุท)
  products: Array,            // ูุงุฆูุฉ ุงูููุชุฌุงุช
  customerCategories: Array,  // ุชุตูููุงุช ุงูุนููุงุก
  customerTags: Array,        // ูุณูู ุงูุนููุงุก
  customers: Array,           // ูุงุฆูุฉ ุงูุนููุงุก
  isEdit: Boolean            // ูู ูู ุชุนุฏูู ุฃู ุฅูุดุงุก
}
```

**ุงูุฃูุณุงู**:
1. ูุนูููุงุช ุงูุนุฑุถ ุงูุฃุณุงุณูุฉ (ุนููุงูุ ูุตูุ ูุทุงูุ ุญุงูุฉุ ุชูุงุฑูุฎ)
2. ุนูุงุตุฑ ุงูุนุฑุถ (OfferItemsSection)
3. ุงููุณุชูุฏููู (OfferTargetsSection) - ูุธูุฑ ููุท ููุนุฑูุถ ุงูุฎุงุตุฉ
4. ุงูููุฎุต ูุงูุฃุฒุฑุงุฑ (OfferSummary)

---

### 2. OfferItemsSection.vue

**ุงููุธููุฉ**: ุฅุฏุงุฑุฉ ุนูุงุตุฑ ุงูุนุฑุถ (ุงูููุชุฌุงุช ูุงูููุงูุขุช)

**Features**:
- โ ุฅุถุงูุฉ ุนูุงุตุฑ ูุชุนุฏุฏุฉ
- โ ุญุฐู ุนูุตุฑ
- โ ุงุฎุชูุงุฑ ุงูููุชุฌ
- โ ุชุญุฏูุฏ ุงููููุฉ ุงูุฃุฏูู
- โ ุงุฎุชูุงุฑ ููุน ุงูููุงูุฃุฉ:
  - ุฎุตู ุจุงููุณุจุฉ ุงููุฆููุฉ (0.01% - 100%)
  - ุฎุตู ุจูุจูุบ ุซุงุจุช
  - ูููุฉ ุจููุต (ููุชุฌ + ูููุฉ)
- โ Validation ุฏููุงูููู ุญุณุจ ููุน ุงูููุงูุฃุฉ

**ูุซุงู ุนูู ุนูุตุฑ**:
```javascript
{
  product_id: 1,
  min_qty: 1000,
  reward_type: 'bonus_qty',
  bonus_product_id: 2,
  bonus_qty: 20
}
```

---

### 3. OfferTargetsSection.vue

**ุงููุธููุฉ**: ุฅุฏุงุฑุฉ ุงููุณุชูุฏููู ูู ุงูุนุฑุถ (ููุนุฑูุถ ุงูุฎุงุตุฉ ููุท)

**Features**:
- โ ุฅุถุงูุฉ ูุณุชูุฏููู ูุชุนุฏุฏูู
- โ ุญุฐู ูุณุชูุฏู
- โ ุงุฎุชูุงุฑ ููุน ุงูุงุณุชูุฏุงู:
  - ุนููู ูุญุฏุฏ (customer)
  - ุชุตููู ุนููุงุก (customer_category)
  - ูุณู ุนููุงุก (customer_tag)
- โ ุงูููุงุฆู ุงูููุณุฏูุฉ ุชุชุบูุฑ ุญุณุจ ููุน ุงูุงุณุชูุฏุงู

**ูุซุงู ุนูู ูุณุชูุฏู**:
```javascript
{
  target_type: 'customer_category',
  target_id: 3  // ID ุงูุชุตููู
}
```

---

### 4. OfferSummary.vue

**ุงููุธููุฉ**: ุนุฑุถ ููุฎุต ุงูุนุฑุถ ูุงูุชุญูู ูู ุงูุญูุธ

**Features**:
- โ ุนุฑุถ ูุนูููุงุช ุงูุนุฑุถ (ูุทุงูุ ุญุงูุฉุ ูุชุฑุฉ)
- โ ุฅุญุตุงุฆูุงุช (ุนุฏุฏ ุงูุนูุงุตุฑุ ุนุฏุฏ ุงููุณุชูุฏููู)
- โ ุชุญุฐูุฑุงุช (ุนููุงู ูุงุฑุบุ ูุง ุนูุงุตุฑุ ูุง ูุณุชูุฏููู)
- โ ุฒุฑ ุงูุญูุธ (ูุนุทู ุฅุฐุง ูุงู ุงููููุฐุฌ ุบูุฑ ุตุงูุญ)
- โ ุฒุฑ ุงูุฅูุบุงุก

---

## ๐ ุณูุฑ ุงูุนูู (Workflow)

### ุฅูุดุงุก ุนุฑุถ ุฌุฏูุฏ

1. ุงููุณุชุฎุฏู ูุฐูุจ ุฅูู `/company/offers/create`
2. ูููุฃ ูุนูููุงุช ุงูุนุฑุถ ุงูุฃุณุงุณูุฉ
3. ูุฎุชุงุฑ ูุทุงู ุงูุนุฑุถ (ุนุงู/ุฎุงุต)
4. ูุถูู ุนูุงุตุฑ ุงูุนุฑุถ:
   - ูุฎุชุงุฑ ููุชุฌ
   - ูุญุฏุฏ ุงููููุฉ ุงูุฃุฏูู
   - ูุฎุชุงุฑ ููุน ุงูููุงูุฃุฉ
   - ูููุฃ ุชูุงุตูู ุงูููุงูุฃุฉ
5. ุฅุฐุง ูุงู ุงูุนุฑุถ ุฎุงุตุ ูุถูู ูุณุชูุฏููู
6. ูุฑุงุฌุน ุงูููุฎุต
7. ูุถุบุท "ุญูุธ"
8. ูุชู ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู Backend

### ุชุนุฏูู ุนุฑุถ

1. ุงููุณุชุฎุฏู ูุฐูุจ ุฅูู `/company/offers/{id}/edit`
2. ูุชู ุชุญููู ุจูุงูุงุช ุงูุนุฑุถ ุงูุญุงููุฉ
3. ูุนุฏู ูุง ูุฑูุฏ
4. ูุถุบุท "ุชุญุฏูุซ"

---

## ๐ ุงูุจูุงูุงุช ุงููุฑุณูุฉ ููู Backend

### ุนูุฏ ุงูุฅูุดุงุก (POST /company/offers)

```javascript
{
  title: "ุนุฑุถ ุฑูุถุงู",
  description: "ุนุฑุถ ุฎุงุต ูุดูุฑ ุฑูุถุงู",
  scope: "private",
  status: "active",
  start_at: "2024-03-01",
  end_at: "2024-03-30",
  
  items: [
    {
      product_id: 1,
      min_qty: 1000,
      reward_type: "bonus_qty",
      discount_percent: null,
      discount_fixed: null,
      bonus_product_id: 2,
      bonus_qty: 20
    },
    {
      product_id: 3,
      min_qty: 500,
      reward_type: "discount_percent",
      discount_percent: 10,
      discount_fixed: null,
      bonus_product_id: null,
      bonus_qty: null
    }
  ],
  
  targets: [
    {
      target_type: "customer_category",
      target_id: 3
    },
    {
      target_type: "customer",
      target_id: 15
    }
  ]
}
```

### ุนูุฏ ุงูุชุญุฏูุซ (PUT /company/offers/{id})

ููุณ ุงูุจููุฉุ ููู ูููู ุฅุฑุณุงู ููุท ุงูุญููู ุงููุฑุงุฏ ุชุญุฏูุซูุง.

---

## ๐จ ุงูุชุตููู ูุงูู UI/UX

### ุงูุฃููุงู ูุงูู Badges

```javascript
// Scope
public  โ badge bg-success (ุฃุฎุถุฑ)
private โ badge bg-warning (ุฃุตูุฑ)

// Status
draft   โ badge bg-secondary (ุฑูุงุฏู)
active  โ badge bg-success (ุฃุฎุถุฑ)
paused  โ badge bg-warning (ุฃุตูุฑ)
expired โ badge bg-danger (ุฃุญูุฑ)

// Reward Type
discount_percent โ badge bg-info (ุฃุฒุฑู)
discount_fixed   โ badge bg-info (ุฃุฒุฑู)
bonus_qty        โ badge bg-info (ุฃุฒุฑู)
```

### ุงูุฃููููุงุช (Remix Icons)

```
ri-add-line          โ ุฅุถุงูุฉ
ri-edit-line         โ ุชุนุฏูู
ri-delete-bin-line   โ ุญุฐู
ri-eye-line          โ ุนุฑุถ
ri-save-line         โ ุญูุธ
ri-close-line        โ ุฅูุบุงุก
ri-inbox-line        โ ูุง ุชูุฌุฏ ุนูุงุตุฑ
ri-user-search-line  โ ูุง ููุฌุฏ ูุณุชูุฏููู
ri-alert-line        โ ุชุญุฐูุฑ
ri-information-line  โ ูุนูููุฉ
```

---

## โ Validation

### Frontend Validation

1. **ุนููุงู ุงูุนุฑุถ**: ูุทููุจ
2. **ุนูุงุตุฑ ุงูุนุฑุถ**: ูุทููุจ ุนูุตุฑ ูุงุญุฏ ุนูู ุงูุฃูู
3. **ุงูุนุฑุถ ุงูุฎุงุต**: ูุชุทูุจ ูุณุชูุฏู ูุงุญุฏ ุนูู ุงูุฃูู
4. **ููุน ุงูููุงูุฃุฉ**:
   - `discount_percent`: ูุชุทูุจ discount_percent (0.01-100)
   - `discount_fixed`: ูุชุทูุจ discount_fixed (> 0)
   - `bonus_qty`: ูุชุทูุจ bonus_product_id + bonus_qty

### Backend Validation

ูุชู ุงูุชุญูู ูู:
- ุตุญุฉ ุงูุจูุงูุงุช
- ููููุฉ ุงูููุชุฌุงุช ููุดุฑูุฉ
- ุตุญุฉ ุงููุณุชูุฏููู
- ููุทู reward_type

---

## ๐ง ุงูุชุฎุตูุต ูุงูุชุทููุฑ

### ุฅุถุงูุฉ ููุน ููุงูุฃุฉ ุฌุฏูุฏ

1. ุฃุถู ูู Backend (BaseOfferRequest)
2. ุฃุถู ูู Frontend (OfferItemsSection.vue):

```vue
<!-- ูู select reward_type -->
<option value="new_reward_type">{{ $t('offer.reward_new_type') }}</option>

<!-- ุฃุถู ุงูุญููู ุงููุทููุจุฉ -->
<div v-if="item.reward_type === 'new_reward_type'" class="col-md-12 mb-3">
  <!-- ุญููู ุฌุฏูุฏุฉ -->
</div>
```

3. ุฃุถู ุงูุชุฑุฌูุงุช

### ุฅุถุงูุฉ ููุน ุงุณุชูุฏุงู ุฌุฏูุฏ

1. ุฃุถู ูู Backend (Migration + Validation)
2. ุฃุถู ูู Frontend (OfferTargetsSection.vue):

```vue
<!-- ูู select target_type -->
<option value="new_target_type">{{ $t('offer.target_new_type') }}</option>

<!-- ุฃุถู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ -->
<option
  v-if="target.target_type === 'new_target_type'"
  v-for="item in newTargetList"
  :key="item.id"
  :value="item.id"
>
  {{ item.name }}
</option>
```

3. ุฃุถู prop ุฌุฏูุฏ ููู component
4. ุฃุถู ุงูุชุฑุฌูุงุช

---

## ๐ฑ Responsive Design

- โ ุงูุตูุญุฉ responsive ุจุงููุงูู
- โ ุนูู ุงูุดุงุดุงุช ุงููุจูุฑุฉ: Form (8 cols) + Summary (4 cols)
- โ ุนูู ุงูุดุงุดุงุช ุงูุตุบูุฑุฉ: ูุชุญูู ุฅูู ุนููุฏ ูุงุญุฏ
- โ ุงูุฌุฏุงูู responsive ูุน scroll ุฃููู

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### 1. ุฅุถุงูุฉ ุงูุชุฑุฌูุงุช
ุฑุงุฌุน ููู `OFFER_TRANSLATIONS.md` ูุฃุถู ุงูุชุฑุฌูุงุช ุงููุทููุจุฉ.

### 2. ุชุฃูุฏ ูู Routes
```php
// ูู routes/company.php
Route::resource('offers', OfferController::class);
```

### 3. ุงุฎุชุจุงุฑ ุงูุตูุญุงุช
```
โ /company/offers          โ Index
โ /company/offers/create   โ Create
โ /company/offers/{id}     โ Show
โ /company/offers/{id}/edit โ Edit
```

### 4. ุชุญุณููุงุช ุงุฎุชูุงุฑูุฉ
- [ ] ุฅุถุงูุฉ Search ูู Index
- [ ] ุฅุถุงูุฉ Filters (scope, status)
- [ ] ุฅุถุงูุฉ Pagination controls
- [ ] ุฅุถุงูุฉ Bulk actions
- [ ] ุฅุถุงูุฉ Export (PDF/Excel)
- [ ] ุฅุถุงูุฉ Preview ูุจู ุงูุญูุธ

---

## ๐ Troubleshooting

### ุงููุดููุฉ: ุงูุชุฑุฌูุงุช ูุง ุชุธูุฑ
**ุงูุญู**: ุชุฃูุฏ ูู ุฅุถุงูุฉ ููู ุงูุชุฑุฌูุงุช ูุฅุนุงุฏุฉ ุชุดุบูู dev server

### ุงููุดููุฉ: ุงูู Form ูุง ููุฑุณู
**ุงูุญู**: ุงูุชุญ Console ูุชุญูู ูู ุงูุฃุฎุทุงุกุ ุชุฃูุฏ ูู Routes

### ุงููุดููุฉ: ุงูููุงุฆู ุงูููุณุฏูุฉ ูุงุฑุบุฉ
**ุงูุญู**: ุชุฃูุฏ ูู ุฃู Controller ููุฑุณู ุงูุจูุงูุงุช ุงููุทููุจุฉ (products, categories, etc.)

---

## ๐ ุงูุฏุนู

ูููุฒูุฏ ูู ุงููุนูููุงุช:
- Backend: ุฑุงุฌุน `OFFERS_SYSTEM_IMPROVEMENTS.md`
- Company Controller: ุฑุงุฌุน `COMPANY_CONTROLLER_UPDATES.md`
- Translations: ุฑุงุฌุน `OFFER_TRANSLATIONS.md`

---

**ุชู ุฅูุดุงุก ุงููุงุฌูุฉ ุจูุงุณุทุฉ**: Kiro AI
**ุงูุชุงุฑูุฎ**: 2026-02-14
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู
