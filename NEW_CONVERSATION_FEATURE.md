# ميزة إنشاء محادثة جديدة ✨

## ما تم إضافته؟

تم إضافة زر "محادثة جديدة" في صفحة المحادثات يسمح للمستخدمين ببدء محادثات جديدة بسهولة.

## كيفية الاستخدام

1. **افتح صفحة المحادثات**
   - انتقل إلى `/company/chat/conversations`

2. **انقر على زر "محادثة جديدة"**
   - الزر موجود في الزاوية العلوية بجانب عنوان "المحادثات"
   - يحتوي على أيقونة + ونص "محادثة جديدة"

3. **ابحث عن المستخدم**
   - سيظهر modal يحتوي على حقل بحث
   - اكتب اسم المستخدم أو بريده الإلكتروني
   - ستظهر قائمة بالمستخدمين المطابقين

4. **اختر المستخدم**
   - انقر على المستخدم الذي تريد بدء محادثة معه
   - سيتم:
     - إنشاء محادثة جديدة إذا لم تكن موجودة
     - أو فتح المحادثة الموجودة إذا كانت موجودة مسبقاً

## الملفات المضافة/المعدلة

### ملفات جديدة:
- `resources/js/components/company/chat/NewConversationModal.vue`

### ملفات معدلة:
- `resources/js/pages/Company/Chat/Index.vue`
- `resources/js/locales/ar.json`
- `resources/js/locales/en.json`

## المميزات

✅ بحث فوري عن المستخدمين  
✅ عرض صورة المستخدم أو الأحرف الأولى  
✅ دعم الوضع الليلي (Dark mode)  
✅ تصميم متجاوب (Responsive)  
✅ معالجة الأخطاء  
✅ منع إنشاء محادثة مع نفس المستخدم  
✅ دعم اللغتين العربية والإنجليزية  

## لقطات الشاشة

### زر محادثة جديدة
```
┌─────────────────────────────────────┐
│ المحادثات          [+ محادثة جديدة] │
│ ─────────────────────────────────── │
│ 🔍 ابحث في المحادثات...            │
└─────────────────────────────────────┘
```

### Modal البحث عن مستخدمين
```
┌─────────────────────────────────────┐
│              محادثة جديدة        [×] │
│                                     │
│ ابحث عن مستخدم                     │
│ ┌─────────────────────────────┐ 🔍 │
│ │ ابحث بالاسم أو البريد...    │    │
│ └─────────────────────────────┘    │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ 👤 أحمد محمد                   │ │
│ │    ahmed@example.com           │ │
│ └─────────────────────────────────┘ │
│ ┌─────────────────────────────────┐ │
│ │ 👤 سارة علي                    │ │
│ │    sara@example.com            │ │
│ └─────────────────────────────────┘ │
│                                     │
│                        [إلغاء]      │
└─────────────────────────────────────┘
```

## الاختبار

قم بتشغيل التطبيق واختبر الميزة:

```bash
npm run dev
php artisan serve
```

ثم:
1. سجل الدخول كمستخدم
2. انتقل إلى صفحة المحادثات
3. انقر على "محادثة جديدة"
4. ابحث عن مستخدم وابدأ محادثة

## ملاحظات

- يتم استبعاد المستخدم الحالي تلقائياً من قائمة المستخدمين
- إذا كانت المحادثة موجودة مسبقاً، سيتم فتحها مباشرة
- البحث يعمل بشكل فوري مع تأخير 500ms لتحسين الأداء

## الدعم

في حالة وجود أي مشاكل، يرجى التواصل مع فريق التطوير.
